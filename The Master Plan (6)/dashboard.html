<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>UMEAL - Dashboard</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="cart.html">
  <link rel="stylesheet" href="order.html">
  <style>
    .categories button.active {
      background-color: red;
      color: #fff;
    }
  </style>
</head>
<body class="dashboard-body">

  <!-- Top Bar -->
  <header class="top-bar">
    <div class="user-info">
      <img src="images/profile.jpg" alt="User" class="avatar">
      <span>Hello, Via Sabatin!</span>
    </div>
    <div class="icons">
      <a href="notifications.html" class="bell">ğŸ””</a>
      <a href="cart.html" class="cart">ğŸ›’</a>
    </div>
  </header>

  <!-- Dashboard Content -->
  <main class="dashboard">
    <h2>What would you like to have today?</h2>

    <!-- Categories -->
<h3 class="cat-title">Categories</h3>
<div class="categories">
  <button class="active" onclick="filterMenu('all', this)">All</button>
  <button onclick="filterMenu('lunch', this)">Lunch Meals</button>
  <button onclick="filterMenu('snacks', this)">Snacks</button>
  <button onclick="filterMenu('drinks', this)">Drinks</button>
</div>

    <!-- Food Grid -->
    <div class="food-grid">
      <!-- Lunch -->
      <div class="food-card lunch">
        <img src="menudo.jfif" alt="Menudo">
        <h3>Menudo</h3>
        <p>â‚±50</p>
        <button class="btn-small" onclick="location.href='cart.html'">Add +</button>
      </div>

      <div class="food-card lunch">
        <img src="fried chicken.jfif" alt="Fried Chicken">
        <h3>Fried Chicken</h3>
        <p>â‚±35</p>
        <button class="btn-small" onclick="location.href='cart.html'">Add +</button>
      </div>

      <div class="food-card lunch">
        <img src="kaldereta.jfif" alt="Kaldereta">
        <h3>Kaldereta</h3>
        <p>â‚±50</p>
        <button class="btn-small" onclick="location.href='cart.html'">Add +</button>
      </div>

      <div class="food-card lunch">
        <img src="ginataan.jfif" alt="Ginataan">
        <h3>Ginataan</h3>
        <p>â‚±30</p>
        <button class="btn-small" onclick="location.href='cart.html'">Add +</button>
      </div>

      <!-- Snacks -->
      <div class="food-card snacks">
        <img src="banana cue.jfif" alt="Banana Cue">
        <h3>Banana Cue</h3>
        <p>â‚±10</p>
        <button class="btn-small" onclick="location.href='cart.html'">Add +</button>
      </div>

      <div class="food-card snacks">
        <img src="turon.jfif" alt="Turon">
        <h3>Turon</h3>
        <p>â‚±15</p>
        <button class="btn-small" onclick="location.href='cart.html'">Add +</button>
      </div>

      <!-- Drinks -->
      <div class="food-card drinks">
        <img src="iced tea.jfif" alt="Iced Tea">
        <h3>Iced Tea</h3>
        <p>â‚±25</p>
        <button class="btn-small" onclick="location.href='cart.html'">Add +</button>
      </div>

      <div class="food-card drinks">
        <img src="coke.jfif" alt="Softdrinks">
        <h3>Coke</h3>
        <p>â‚±25</p>
        <button class="btn-small">Add +</button>
      </div>
    </div>
  </main>

  <!-- Bottom Navigation -->
  <nav class="bottom-nav">
    <a href="dashboard.html" class="active">ğŸ½ Food</a>
    <a href="cart.html">ğŸ›’ Cart</a>
    <a href="orders.html">ğŸ“¦ Order</a>
    <a href="profile.html">ğŸ‘¤ Profile</a>
  </nav>

 <!-- Add this script before </body> -->
<script>
const addButtons = document.querySelectorAll('.food-card .btn-small');

addButtons.forEach(btn => {
  btn.addEventListener('click', function(e) {
    e.preventDefault();

    const card = this.parentElement;
    const item = {
      name: card.querySelector('h3').innerText,
      price: parseFloat(card.querySelector('p').innerText.replace('â‚±','')), // convert price to number
      img: card.querySelector('img').src,
      quantity: 1
    };

    // Get existing cart
    let cart = JSON.parse(localStorage.getItem('cart')) || [];

    // Merge if item already exists
    const existing = cart.find(i => i.name === item.name);
    if(existing){
      existing.quantity += 1;
    } else {
      cart.push(item);
    }

    localStorage.setItem('cart', JSON.stringify(cart));
    alert(item.name + " added to cart!");
  });
});
</script>

<!-- New category filter script (does not touch add-to-cart) -->
<script>
function filterMenu(category, btn) {
  // Highlight active button
  const allButtons = document.querySelectorAll('.categories button');
  allButtons.forEach(b => b.classList.remove('active'));
  btn.classList.add('active');

  // Show/hide items based on category
  const items = document.querySelectorAll('.food-card');
  items.forEach(item => {
    if(category === 'all'){
      item.style.display = 'block';
    } else {
      item.style.display = item.classList.contains(category) ? 'block' : 'none';
    }
  });
}
</script>

</body>
</html>
